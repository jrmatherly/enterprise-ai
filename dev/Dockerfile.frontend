# Frontend Development Dockerfile
# Next.js with hot reload via volume mount
#
# Build context should be frontend/

FROM node:22-alpine

WORKDIR /app

# Install dependencies first (for layer caching)
COPY package.json package-lock.json* ./
RUN npm ci

# Expose port (3001 for dev to avoid conflict with Langfuse on 3000)
EXPOSE 3001

# Set development port
ENV PORT=3001

# Source code is mounted as volume for hot reload
# COPY . .  # Not needed - volume mount instead

# Next.js dev server with hot reload
CMD ["npm", "run", "dev"]
